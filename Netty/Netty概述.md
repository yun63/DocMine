# Netty概述



Netty是一个Java NIO技术的开源异步事件驱动的网络编程框架，用于快速开发可维护的高性能协议服务器和客户端。

简单地说，Netty就是NIO，是对NIO的深度封装，它具有功能强大、性能高效、易于扩展等优点。



1. 高并发

基于NIO，非阻塞，相对于BIO，并发性能极大提高

2. 传输快

传输依赖于零拷贝特性，尽量减少不必要的内存拷贝，实现了更高效率的传输

2. 封装

封装了 NIO 操作的很多细节，提供了易于使用调用接口



## 一、 BIO、NIO和AIO



BIO、NIO和AIO这三个概念分别对应三种通讯模型：阻塞、非阻塞、非阻塞异步。

BIO和NIO的区别如下：

1. BIO是面向流的，NIO是面向缓冲区的；
2. BIO的各种流是阻塞的，而NIO是非阻塞的；
3. BIO的Stream是单向的，而NIO的channel是双向的。

NIO的显著优势：

1. 事件驱动模型、单线程处理多任务、非阻塞I/O，I/O读写不再阻塞，而是返回0；
2. 基于block的传输比基于流的传输更高效、更高级的IO函数zero-copy；
3. IO多路复用大大提高了Java网络应用的可伸缩性和实用性。基于Reactor线程模型。



## 二、Netty的高性能表现的几个方面



**Netty高性能表现在哪些方面？**

- 1）IO 线程模型：同步非阻塞，用最少的资源做更多的事；
- 2）内存零拷贝：尽量减少不必要的内存拷贝，实现了更高效率的传输；
- 3）内存池设计：申请的内存可以重用，主要指直接内存。内部实现是用一颗二叉查找树管理内存分配情况；
- 4）串形化处理读写：避免使用锁带来的性能开销；
- 5）高性能序列化协议：支持 protobuf 等高性能序列化协议。



## 三、JDK原生NIO的问题

* 1. NIO的API较为复杂，你必须熟练掌握Selector、ServerSocketChannel、SocketChannel、ByteBuffer 等。
  2. NIO需要用到多线程和Reactor，熟练掌握多线程和Reactor等网络开发技能是使用NIO的前提基础。
  3. 

